{"version":3,"sources":["webpack:///static/js/app.1b85466c1d2684aae5bc.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///./src/source-data.js","webpack:///App.vue","webpack:///Graph.vue","webpack:///./src/Graph.vue","webpack:///./src/Graph.vue?69b1","webpack:///./src/App.vue?7ab0"],"names":["webpackJsonp","27","module","exports","__webpack_require__","injectStyle","ssrContext","Component","29","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue___default","n","config","productionTip","el","render","h","a","30","data","diff","arguments","length","undefined","result","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","Array","keys","actual","reduce","acc","_gerRange","gerRange","min","max","getRandomInt","push","Math","floor","random","curr","maxValue","minValue","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","31","__WEBPACK_IMPORTED_MODULE_0__Graph_vue__","__WEBPACK_IMPORTED_MODULE_0__Graph_vue___default","name","count","computed","countInt","parseInt","this","components","Graph","32","__WEBPACK_IMPORTED_MODULE_0__source_data__","props","context","records","width","height","mounted","$el","getContext","redraw","methods","calculateMaxDiff","_this","results","index","arr","restOfArr","slice","getMax","_results$filter$","filter","Infinity","forEach","xCoord","yCoord","clearDraw","i","$emit","drawChart","drawPoint","colour","x","y","beginPath","arc","PI","fillStyle","fill","stroke","_this2","moveTo","map","lineTo","clearRect","watch","61","62","63","_vm","_h","$createElement","_self","_c","attrs","id","staticRenderFns","64","_v","directives","rawName","expression","domProps","on","input","$event","target","composing","_s","update:diff"],"mappings":"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","file":"static/js/app.1b85466c1d2684aae5bc.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(61)\n}\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(31),\n  /* template */\n  __webpack_require__(64),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App_vue__);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App_vue___default.a);\n  }\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = data;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n\nfunction data(n) {\n  var diff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n\n  var result = [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(new Array(n).keys()));\n  var actual = 400;\n  return result.reduce(function (acc) {\n    var _gerRange = gerRange(actual, diff),\n        min = _gerRange.min,\n        max = _gerRange.max;\n\n    actual = getRandomInt(min, max);\n\n    acc.push(actual);\n\n    return acc;\n  }, []);\n}\n\n/**\r\n * Get a random integer between `min` and `max`.\r\n * @param  {number} min - min number\r\n * @param  {number} max - max number\r\n * @return {int} a random integer\r\n */\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\r\n * Get range for max and min values.\r\n * @param  {number} curr\r\n * @param  {number} diff\r\n * @param  {number} maxValue\r\n * @param  {number} minValue\r\n * @returns {{max: number, min: number}}\r\n */\nfunction gerRange(curr) {\n  var diff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var maxValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 800;\n  var minValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n  var max = curr + diff;\n  var min = curr - diff;\n\n  if (max > maxValue) {\n    min -= max - maxValue;\n    max = maxValue;\n  }\n\n  if (min < minValue) {\n    max += minValue - min;\n    min = minValue;\n  }\n\n  return { max: max, min: min };\n}\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Graph_vue__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Graph_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__Graph_vue__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n\n  data: function data() {\n    return {\n      diff: 0,\n      count: 100\n    };\n  },\n\n\n  computed: {\n    countInt: function countInt() {\n      var result = parseInt(this.count) || 100;\n      return result < 10 ? 100 : result > 5000 ? 5000 : result;\n    }\n  },\n\n  components: { Graph: __WEBPACK_IMPORTED_MODULE_0__Graph_vue___default.a }\n});\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__source_data__ = __webpack_require__(30);\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'graph-canvas',\n\n  props: ['count'],\n\n  data: function data() {\n    return {\n      context: {},\n      records: [],\n      max: {},\n      min: {},\n      diff: 0,\n      width: 1020,\n      height: 820\n    };\n  },\n  mounted: function mounted() {\n    this.context = this.$el.getContext('2d');\n    this.redraw();\n  },\n\n\n  methods: {\n    calculateMaxDiff: function calculateMaxDiff() {\n      var _this = this;\n\n      this.diff = 0;\n      var results = this.records.reduce(function (acc, value, index, arr) {\n        var restOfArr = arr.slice(index + 1);\n        var max = _this.getMax(restOfArr);\n\n        if (max.value - value > _this.diff) {\n          _this.diff = max.value - value;\n          max.index += index + 1;\n          acc.push({ min: { index: index, value: value }, max: max, diff: _this.diff });\n        }\n\n        return acc;\n      }, []);\n\n      var _results$filter$ = results.filter(function (value) {\n        return value.diff === _this.diff;\n      })[0],\n          max = _results$filter$.max,\n          min = _results$filter$.min;\n\n      this.max = max;\n      this.min = min;\n\n      return 0;\n    },\n    getMax: function getMax(arr) {\n      var max = { value: -Infinity, index: -1 };\n\n      arr.forEach(function (value, index) {\n        if (value > max.value) {\n          max = { index: index, value: value };\n        }\n      });\n\n      return max;\n    },\n    xCoord: function xCoord(index) {\n      return 10 + index * (1000 / this.count);\n    },\n    yCoord: function yCoord(value) {\n      return -(-810 + value);\n    },\n    redraw: function redraw() {\n      this.clearDraw();\n\n      this.records = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__source_data__[\"a\" /* default */])(this.count, 40);\n      this.calculateMaxDiff();\n      this.$emit('update:diff', this.diff);\n\n      this.drawChart();\n      this.drawPoint(this.max.index, this.max.value, 'rgba(63, 191, 127, 0.7)');\n      this.drawPoint(this.min.index, this.min.value, 'rgba(63, 191, 191, 0.7)');\n    },\n    drawPoint: function drawPoint(index, value) {\n      var colour = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'rgba(0, 0, 255, 0.5)';\n\n      var x = this.xCoord(index);\n      var y = this.yCoord(value);\n\n      this.context.beginPath();\n      this.context.arc(x, y, 7, 0, 2 * Math.PI);\n      this.context.fillStyle = colour;\n      this.context.fill();\n      this.context.stroke();\n    },\n    drawChart: function drawChart() {\n      var _this2 = this;\n\n      this.context.beginPath();\n      this.context.moveTo(this.xCoord(0), this.yCoord(this.records[0]));\n      this.records.map(function (value, index) {\n        if (index === 0) {\n          return;\n        }\n        _this2.context.lineTo(_this2.xCoord(index), _this2.yCoord(value));\n      });\n      this.context.stroke();\n    },\n    clearDraw: function clearDraw() {\n      this.context.clearRect(0, 0, this.width, this.height);\n    }\n  },\n\n  watch: {\n    count: function count() {\n      this.redraw();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(32),\n  /* template */\n  __webpack_require__(63),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('canvas', {\n    attrs: {\n      \"id\": \"graph-canvas\",\n      \"width\": _vm.width + 'px',\n      \"height\": _vm.height + 'px'\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', [_c('div', [_vm._v(\"Point count: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.count),\n      expression: \"count\"\n    }],\n    domProps: {\n      \"value\": (_vm.count)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.count = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"Max diff: \" + _vm._s(_vm.diff))])]), _vm._v(\" \"), _c('graph', {\n    attrs: {\n      \"diff\": _vm.diff,\n      \"count\": _vm.countInt\n    },\n    on: {\n      \"update:diff\": function($event) {\n        _vm.diff = $event\n      }\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n},[29]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.1b85466c1d2684aae5bc.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f1cfe57\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f1cfe57\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 27\n// module chunks = 1","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default function data (n, diff = 20) {\r\n  let result = [...new Array(n).keys()]\r\n  let actual = 400\r\n  return result.reduce(acc => {\r\n    let {min, max} = gerRange(actual, diff)\r\n\r\n    actual = getRandomInt(min, max)\r\n\r\n    acc.push(actual)\r\n\r\n    return acc\r\n  }, [])\r\n}\r\n\r\n/**\r\n * Get a random integer between `min` and `max`.\r\n * @param  {number} min - min number\r\n * @param  {number} max - max number\r\n * @return {int} a random integer\r\n */\r\nfunction getRandomInt (min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\n/**\r\n * Get range for max and min values.\r\n * @param  {number} curr\r\n * @param  {number} diff\r\n * @param  {number} maxValue\r\n * @param  {number} minValue\r\n * @returns {{max: number, min: number}}\r\n */\r\nfunction gerRange (curr, diff = 20, maxValue = 800, minValue = 0) {\r\n  let max = curr + diff\r\n  let min = curr - diff\r\n\r\n  if (max > maxValue) {\r\n    min -= max - maxValue\r\n    max = maxValue\r\n  }\r\n\r\n  if (min < minValue) {\r\n    max += minValue - min\r\n    min = minValue\r\n  }\r\n\r\n  return {max, min}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/source-data.js","<template>\n  <div id=\"app\">\n    <div>\n      <div>Point count: <input v-model=\"count\"/></div>\n      <p>Max diff: {{ diff }}</p>\n    </div>\n    <graph :diff.sync=\"diff\" :count=\"countInt\"></graph>\n  </div>\n</template>\n\n<script>\n  import Graph from './Graph.vue'\n\n  export default {\n    name: 'app',\n\n    data () {\n      return {\n        diff: 0,\n        count: 100\n      }\n    },\n\n    computed: {\n      countInt () {\n        let result = parseInt(this.count) || 100\n        return result < 10 ? 100 : (result > 5000 ? 5000 : result)\n      }\n    },\n\n    components: {Graph}\n  }\n</script>\n\n<style>\n  #app {\n    width: 1030px;\n    margin: 20px auto;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?ef461bfc","<template>\r\n  <canvas id=\"graph-canvas\" :width=\"width + 'px'\" :height=\"height + 'px'\">\r\n  </canvas>\r\n</template>\r\n\r\n<script>\r\n  import sourceData from './source-data'\r\n\r\n  export default {\r\n    name: 'graph-canvas',\r\n\r\n    props: ['count'],\r\n\r\n    data () {\r\n      return {\r\n        context: {},\r\n        records: [],\r\n        max: {},\r\n        min: {},\r\n        diff: 0,\r\n        width: 1020,\r\n        height: 820\r\n      }\r\n    },\r\n\r\n    mounted () {\r\n      this.context = this.$el.getContext('2d')\r\n      this.redraw()\r\n    },\r\n\r\n    methods: {\r\n      calculateMaxDiff () {\r\n        this.diff = 0\r\n        let results = this.records.reduce((acc, value, index, arr) => {\r\n          const restOfArr = arr.slice(index + 1)\r\n          const max = this.getMax(restOfArr)\r\n\r\n          if (max.value - value > this.diff) {\r\n            this.diff = max.value - value\r\n            max.index += index + 1\r\n            acc.push({min: {index, value}, max, diff: this.diff})\r\n          }\r\n\r\n          return acc\r\n        }, [])\r\n\r\n        const {max, min} = results.filter(value => value.diff === this.diff)[0]\r\n        this.max = max\r\n        this.min = min\r\n\r\n        return 0\r\n      },\r\n\r\n      getMax (arr) {\r\n        let max = {value: -Infinity, index: -1}\r\n\r\n        arr.forEach((value, index) => {\r\n          if (value > max.value) {\r\n            max = {index, value}\r\n          }\r\n        })\r\n\r\n        return max\r\n      },\r\n\r\n      xCoord (index) {\r\n        return 10 + (index * (1000 / this.count))\r\n      },\r\n\r\n      yCoord (value) {\r\n        return -(-810 + value)\r\n      },\r\n\r\n      redraw () {\r\n        this.clearDraw()\r\n\r\n        this.records = sourceData(this.count, 40)\r\n        this.calculateMaxDiff()\r\n        this.$emit('update:diff', this.diff)\r\n\r\n        this.drawChart()\r\n        this.drawPoint(this.max.index, this.max.value, 'rgba(63, 191, 127, 0.7)')\r\n        this.drawPoint(this.min.index, this.min.value, 'rgba(63, 191, 191, 0.7)')\r\n      },\r\n\r\n      drawPoint (index, value, colour = 'rgba(0, 0, 255, 0.5)') {\r\n        let x = this.xCoord(index)\r\n        let y = this.yCoord(value)\r\n\r\n        this.context.beginPath()\r\n        this.context.arc(x, y, 7, 0, 2 * Math.PI)\r\n        this.context.fillStyle = colour\r\n        this.context.fill()\r\n        this.context.stroke()\r\n      },\r\n\r\n      drawChart () {\r\n        this.context.beginPath()\r\n        this.context.moveTo(this.xCoord(0), this.yCoord(this.records[0]))\r\n        this.records.map((value, index) => {\r\n          if (index === 0) {\r\n            return\r\n          }\r\n          this.context.lineTo(this.xCoord(index), this.yCoord(value))\r\n        })\r\n        this.context.stroke()\r\n      },\r\n\r\n      clearDraw () {\r\n        this.context.clearRect(0, 0, this.width, this.height)\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      count () {\r\n        this.redraw()\r\n      }\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// Graph.vue?5d4aa0e4","var Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Graph.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-691e50f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Graph.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Graph.vue\n// module id = 62\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('canvas', {\n    attrs: {\n      \"id\": \"graph-canvas\",\n      \"width\": _vm.width + 'px',\n      \"height\": _vm.height + 'px'\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-691e50f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/Graph.vue\n// module id = 63\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', [_c('div', [_vm._v(\"Point count: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.count),\n      expression: \"count\"\n    }],\n    domProps: {\n      \"value\": (_vm.count)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.count = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"Max diff: \" + _vm._s(_vm.diff))])]), _vm._v(\" \"), _c('graph', {\n    attrs: {\n      \"diff\": _vm.diff,\n      \"count\": _vm.countInt\n    },\n    on: {\n      \"update:diff\": function($event) {\n        _vm.diff = $event\n      }\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f1cfe57\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 64\n// module chunks = 1"],"sourceRoot":""}